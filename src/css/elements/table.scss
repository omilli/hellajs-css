@use "../theme/colors" as colors;
@use "./theme/table.theme" as theme;

// Minimal Base Table
table {
  width: theme.$table-width;
  border-collapse: theme.$table-border-collapse;
}

// Table Header - Just enough to distinguish from cells
th {
  padding: theme.$table-cell-padding;
  font-weight: theme.$table-header-font-weight;
  text-align: theme.$table-header-text-align;
}

// Table Cells - Minimal
td {
  padding: theme.$table-cell-padding;
}

// Responsive layout - Essential functionality only
@media (max-width: #{theme.$table-stack-breakpoint}) {
  // Make table act like a block container
  table {
    display: theme.$table-mobile-display;
    width: theme.$table-mobile-width;
  }

  tbody {
    display: theme.$table-mobile-tbody-display;
    width: theme.$table-mobile-width;
  }

  tr {
    display: theme.$table-mobile-tr-display;
    width: theme.$table-mobile-width;
    margin-bottom: theme.$table-row-mobile-margin;
  }

  // Hide headers but keep accessible for screen readers
  thead {
    position: theme.$table-head-mobile-position;
    width: theme.$table-head-mobile-width;
    height: theme.$table-head-mobile-height;
    margin: theme.$table-head-mobile-margin;
    overflow: theme.$table-head-mobile-overflow;
    clip: theme.$table-head-mobile-clip;
  }

  // Make cells block-level with labels
  td {
    position: theme.$table-cell-position;
    display: theme.$table-mobile-td-display;
    padding-left: theme.$table-mobile-label-width;
    min-height: theme.$table-cell-mobile-min-height;

    // Use data-label for accessibility
    &::before {
      content: attr(#{theme.$table-label-attribute});
      position: theme.$table-label-position;
      left: theme.$table-label-left;
      top: theme.$table-label-top;
      width: calc(theme.$table-mobile-label-width - theme.$table-label-padding);
      padding-right: theme.$table-label-padding;
      font-weight: theme.$table-header-font-weight;
    }

    &:empty {
      display: theme.$table-cell-empty-display;
    }
  }
}

// Small screen - Vertical layout for labels
@media (max-width: #{theme.$table-small-breakpoint}) {
  td {
    padding-left: theme.$table-cell-padding;

    &::before {
      position: theme.$table-small-label-position;
      display: theme.$table-small-label-display;
      width: theme.$table-small-label-width;
      margin-bottom: theme.$table-label-margin;
      font-weight: theme.$table-header-font-weight;
    }
  }
}
