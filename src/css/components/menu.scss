// Import shared spacing and breakpoint variables from text
@use "../theme/colors" as colors;
@use "./theme/menu.theme" as theme;

// Base Header Styling - Minimum required for functionality
.menu {
  display: theme.$menu-display;
  justify-content: theme.$menu-justify;
  align-items: theme.$menu-align;
  position: theme.$menu-position;
  padding: theme.$menu-padding;

  input {
    position: absolute;
    opacity: 0;
    pointer-events: none;
  }

  label {
    display: none;
    cursor: pointer;
    z-index: theme.$menu-button-z-index;
    width: theme.$menu-button-width;
    height: theme.$menu-button-height;
    position: theme.$menu-button-position;

    span {
      display: block;
      position: theme.$menu-line-position;
      height: theme.$menu-line-thickness;
      width: 100%;
      background-color: theme.$menu-line-color;
      left: 0;
      transition: theme.$menu-line-transition;

      &:nth-child(1) {
        top: 0;
      }
      &:nth-child(2) {
        top: 50%;
        transform: translateY(-50%);
      }
      &:nth-child(3) {
        bottom: 0;
      }
    }
  }

  nav ul {
    display: theme.$menu-list-display;
    list-style: theme.$menu-list-style;
    margin: theme.$menu-list-margin;
    padding: theme.$menu-list-padding;

    li {
      margin-left: theme.$menu-item-spacing;

      a {
        font-size: theme.$menu-font-size;
      }
    }
  }

  @media (max-width: #{theme.$menu-mobile-breakpoint}) {
    label {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    nav {
      position: theme.$menu-mobile-position;
      top: theme.$menu-mobile-top;
      right: theme.$menu-mobile-initial-right;
      width: theme.$menu-mobile-width;
      height: theme.$menu-mobile-height;
      z-index: theme.$menu-mobile-z-index;
      padding-top: theme.$menu-mobile-padding-top;
      transition: theme.$menu-mobile-transition;

      ul {
        flex-direction: column;

        li {
          margin: 0;
          padding: theme.$menu-mobile-item-padding;
        }
      }
    }

    input:checked ~ nav {
      right: theme.$menu-mobile-open-right;
    }

    input:checked ~ label span {
      &:nth-child(1) {
        top: 50%;
        transform: translateY(-50%) rotate(theme.$menu-line-rotate);
      }

      &:nth-child(2) {
        opacity: 0;
      }

      &:nth-child(3) {
        bottom: 50%;
        transform: translateY(50%) rotate(calc(-1 * theme.$menu-line-rotate));
      }
    }
  }

  @media (max-width: #{theme.$menu-small-breakpoint}) {
    padding: theme.$menu-small-padding;

    nav {
      width: theme.$menu-small-width;
    }
  }
}
